import{i as $,s as A}from"./attributes.iGKCyH7H.js";import{o as ee,m as ue,c as X}from"./site.config.BSPfX6Gx.js";import{a8 as me,ab as fe,y as ve,a4 as ge,S as be,d as ae,e as j,a as S,p as te,b as re,g as i,r as o,s as p,t as q,f as he,k as M,l as a,i as C,m as F,h as G}from"./branches.B-b34qLj.js";import{I as _,e as H,s as R,i as J,c as pe}from"./Icon.DIrlbuis.js";import{p as ne}from"./props.DZLYjaEd.js";import{i as K,g as x}from"./index.BD29CbIs.js";import{s as Q}from"./snippet.B-HMPpB1.js";/* empty css                       */import"./store.okfj7jwb.js";function Z(l,e){return l===e||l?.[be]===e}function xe(l={},e,t,c){return me(()=>{var u,r;return fe(()=>{u=r,r=[],ve(()=>{l!==t(...r)&&(e(l,...r),u&&Z(t(...u),l)&&e(null,...u))})}),()=>{ge(()=>{r&&Z(t(...r),l)&&e(null,...r)})}}),l}var _e=j('<button class="items-center" aria-label="Toggle dark theme"><!></button>');function we(l,e){re(e,!0);let t=ne(e,"dark",15,!1);function c(n){let m=t(n)?"dark":"light";document.documentElement.dataset.theme=m,localStorage.setItem("theme",m)}function u(n){const m=()=>c(!t());let v;if(!(v=document.startViewTransition?.(m)))return m();const B=n.clientX,k=n.clientY;v.ready.then(()=>{const I=[`circle(0% at ${B}px ${k}px)`,`circle(130% at ${B}px ${k}px)`];document.documentElement.animate({clipPath:t()?[...I].reverse():I},{duration:400,easing:"ease-in",fill:"forwards",pseudoElement:t()?"::view-transition-old(root)":"::view-transition-new(root)"})})}ee(()=>{const n=window.matchMedia("(prefers-color-scheme: dark)"),m=localStorage.getItem("theme");c(m?m==="dark":n.matches),n.addEventListener("change",({matches:v})=>c(v))});var r=_e();r.__click=u;var w=i(r);{var d=n=>{_(n,{name:"lucide--moon"})},T=n=>{_(n,{name:"lucide--sun"})};$(w,n=>{t()?n(d):n(T,!1)})}o(r),S(l,r),te()}ae(["click"]);var ke=j('<div class="flex flex-col justify-center border-e pe-2 border-primary sm:relative sm:border-0 sm:p-0 group"><button class="items-center sm:border-none"><!></button> <div class="pt-1 z-1 bg-background sm:absolute sm:top-full sm:start-1/2 sm:h-max sm:-translate-x-1/2 sm:rtl:translate-x-1/2 sm:opacity-0 sm:invisible sm:transition-[opacity,visibility] sm:group-hover:opacity-100 sm:group-hover:visible"><div class="menu flex flex-col sm:border-2 sm:border-primary sm:shadow-md svelte-1xuccsw"><!></div></div></div>');function ye(l,e){var t=ke(),c=i(t),u=i(c);Q(u,()=>e.trigger),o(c);var r=p(c,2),w=i(r),d=i(w);Q(d,()=>e.children),o(w),o(r),o(t),q(()=>A(c,"aria-label",e.label)),S(l,t)}var Ee=j('<a><span><!></span> <p class="w-full sm:py-1 px-2.5 sm:text-center sm:text-background sm:bg-primary sm:clip-path-hidden transition-[clip-path] group-hover:clip-path-visible"> </p></a>'),Le=j("<a> </a>"),Se=j('<div data-no-swup="" class="contents"></div>'),je=j('<button class="sm:hidden"><!></button> <button></button> <nav><header class="grid gap-5 text-secondary grid-rows-[repeat(5,1fr)] sm:grid-rows-none sm:grid-cols-[repeat(4,1fr)]"><button class="sm:hidden"><!></button> <!></header> <footer class="flex flex-col gap-2 sm:flex-row sm:gap-7"><!> <a target="_blank" aria-label="Subscription" class="inline-flex"><!></a> <!></footer></nav>',1);function Ye(l,e){re(e,!0);let t=ne(e,"route",7);const c=K(e.locale),u=x(e.locale),r=[{label:c("navigation.home"),path:u,extra:[x(e.locale,"/preface")],icon:"lucide--tent"},{label:c("navigation.note"),path:x(e.locale,"/note"),icon:"lucide--list"},{label:c("navigation.jotting"),path:x(e.locale,"/jotting"),icon:"lucide--feather"},{label:c("navigation.about"),path:x(e.locale,"/about"),icon:"lucide--at-sign"}];function w(s,f){return f?.some(g=>g===t())?!0:s===u?s===t():t().startsWith(s)}let d=C(!1),T=C(void 0),n=F(()=>t().slice(`/${e.locale===X.i18n.defaultLocale?"":e.locale}`.length)||void 0);ee(()=>{for(const f of a(T).getElementsByTagName("a"))f.addEventListener("click",()=>M(d,!1));const s=()=>t(window.location.pathname);window.swup?window.swup.hooks.on("page:load",s):document.addEventListener("swup:enable",()=>window.swup?.hooks.on("page:load",s))});var m=je(),v=he(m);v.__click=()=>M(d,!0);var B=i(v);_(B,{name:"lucide--align-justify"}),o(v);var k=p(v,2);k.__click=()=>M(d,!1);let I;var D=p(k,2);let U;var z=i(D),N=i(z);N.__click=()=>M(d,!1);var se=i(N);_(se,{name:"lucide--x"}),o(N);var oe=p(N,2);H(oe,17,()=>r,J,(s,f)=>{const g=F(()=>w(a(f).path,a(f).extra));var y=Ee();let E;var L=i(y);let b;var h=i(L);_(h,{get name(){return a(f).icon}}),o(L);var Y=p(L,2),O=i(Y,!0);o(Y),o(y),q(()=>{A(y,"href",a(f).path),E=R(y,1,"relative inline-flex items-center group",null,E,{"max-sm:font-bold":a(g)}),b=R(L,1,"sm:absolute sm:w-full h-full inline-flex items-center sm:justify-center sm:border-b-2 sm:py-1 transition-[border-color] duration-150 ease-linear",null,b,{"border-transparent":!a(g),"border-secondary":a(g)}),G(O,a(f).label)}),S(s,y)}),o(z);var V=p(z,2),W=i(V);we(W,{});var P=p(W,2),ie=i(P);_(ie,{name:"lucide--rss"}),o(P);var le=p(P,2);{var ce=s=>{ye(s,{label:"Language switcher",trigger:g=>{_(g,{name:"lucide--earth"})},children:(g,y)=>{var E=Se();H(E,21,()=>X.i18n.locales,J,(L,b)=>{var h=Le(),Y=i(h,!0);o(h),q((O,de)=>{A(h,"href",O),A(h,"lang",a(b)),R(h,1,pe(e.locale===a(b)?"bg-primary text-background":"")),G(Y,de)},[()=>e.locale===a(b)?void 0:x(a(b),a(n)),()=>K(a(b))("language")]),S(L,h)}),o(E),S(g,E)}})};$(le,s=>{ue||s(ce)})}o(V),o(D),xe(D,s=>M(T,s),()=>a(T)),q(s=>{I=R(k,1,"fixed top-0 start-0 w-screen h-screen pointer-events-auto bg-[#aaaaaa88] transition-[background-color] sm:hidden",null,I,{"pointer-events-none":!a(d),"bg-transparent":!a(d)}),U=R(D,1,"fixed top-0 end-0 flex flex-col justify-between items-start gap-5 p-5 bg-background h-full sm:contents overflow-hidden transition-transform",null,U,{"translate-x-full":!a(d),"rtl:-translate-x-full":!a(d)}),A(P,"href",s)},[()=>x(e.locale,"/feed.xml")]),S(l,m),te()}ae(["click"]);export{Ye as default};
